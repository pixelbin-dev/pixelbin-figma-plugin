(()=>{var p=(t,e)=>()=>(t&&(e=t(t=0)),e);var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var n=(t,e,a)=>new Promise((l,g)=>{var f=i=>{try{o(a.next(i))}catch(s){g(s)}},m=i=>{try{o(a.throw(i))}catch(s){g(s)}},o=i=>i.done?l(i.value):Promise.resolve(i.value).then(f,m);o((a=a.apply(t,e)).next())});var u,c,d=p(()=>{u=[{name:"Industry Type",type:"enum",enum:["general","ecommerce","car","human"],preview:["car"],default:"general",identifier:"i",title:"Industry type"},{name:"Add Shadow",title:"Add Shadow (cars only)",type:"boolean",default:!1,preview:!1,identifier:"shadow"},{name:"Refine",title:"Refine Output",type:"boolean",default:!0,identifier:"r"}],c=u});var h=y(r=>{d();figma.showUI(__html__,{title:"Erase Bg",height:400,width:248,themeColors:!0});figma.ui.onmessage=t=>n(r,null,function*(){if(t.type==="initialCall"){let e={type:"createForm",optionsArray:c,savedFormValue:""};figma.clientStorage.getAsync("savedFormValue").then(a=>{e.savedFormValue=a,figma.ui.postMessage(e),console.log("SavedValues",a)}).catch(a=>{console.error("Error loading data:",a)})}if(t.type==="transform")if(t.params&&figma.clientStorage.setAsync("savedFormValue",t.params).then(()=>{console.log("Data saved",t.params)}).catch(e=>{console.error("Error saving data:",e)}),figma.currentPage.selection.length>1)figma.notify("Please select a single node");else{let e=figma.currentPage.selection[0];try{let a=yield fetch("http://localhost:8081/service/platform/assets/v1.0/upload/signed-url",{method:"POST",headers:{"x-pixelbin-token":"da66bab0-723a-4157-94ab-b4e83fd910e1","Content-Type":"application/json"},body:JSON.stringify({path:"path/to/containing/folder",name:"filename",format:"jpeg",access:"public-read",tags:["tag1","tag2"],metadata:{},overwrite:!1,filenameOverride:!0}),redirect:"follow"});console.log("sure",a)}catch(a){console.log("Err",a)}if(e.fills[0].type==="IMAGE"){let a=figma.getImageByHash(e.fills[0].imageHash),l=null;a&&(l=yield a.getBytesAsync(),figma.ui.postMessage({type:"selectedImage",imageBytes:l}))}figma.createImageAsync("https://cdn.pixelbin.io/v2/muddy-lab-41820d/erase.bg(i:general,shadow:false,r:true)/__playground/playground-default.jpeg").then(a=>n(r,null,function*(){e.fills=[{type:"IMAGE",imageHash:a.hash,scaleMode:"FILL"}]})).then(()=>{figma.closePlugin()})}else t.type==="close-plugin"&&figma.closePlugin()})});h();})();
//# sourceMappingURL=index.js.map
